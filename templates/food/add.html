{% extends 'food/base.html' %}
{% block title %}{% if is_editing %}Edit Grocery{% else %}Add Grocery{% endif %}{% endblock %}

{% block content %}
<h2 class="mb-4">{% if is_editing %}Edit Grocery{% else %}Add Grocery{% endif %}</h2>

<form method="post" class="row g-3">
    {% csrf_token %}
    <div class="col-md-6">
        <label for="grocery_name" class="form-label">Name</label>
        <input type="text" class="form-control" id="grocery_name" name="grocery_name" value="{{ form.grocery_name.value|default:'' }}" required>
    </div>

    <div class="col-md-6">
        <label for="ex_date" class="form-label">Expiry Date</label>
        <input type="date" class="form-control" id="ex_date" name="ex_date" value="{{ form.ex_date.value|default:'' }}" required>
    </div>

    <div class="col-md-6">
        <label for="quantity" class="form-label">Quantity</label>
        <input type="number" class="form-control" id="quantity" name="quantity" value="{{ form.quantity.value|default:'' }}" required>
    </div>

    <div class="col-md-6">
        <label for="grocerie_type" class="form-label">Category</label>
        <select class="form-select" id="grocerie_type" name="grocerie_type" required>
            <option value="">Select a Category</option>
            {% for category in grocery_types %}
            <option value="{{ category.id }}" {% if form.grocerie_type.value == category.id %}selected{% endif %}>{{ category.type_name }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="col-12 mt-3">
        <button type="submit" class="btn btn-primary">{% if is_editing %}Update{% else %}Add{% endif %}</button>
        <a href="{% url 'index' %}" class="btn btn-secondary">Cancel</a>
    </div>
</form>
{% endblock %}
